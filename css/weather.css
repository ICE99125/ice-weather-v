:root {
    --weather-background-color: salmon;
    --weather-width: 18em;
    --weather-height: 100vh;
    --weather-font-color: black;
    --temp-font-size: 3em;
    --weather-detail-bg: rgba(255, 255, 255, .6);
    --bg-radius: .6em;
    --sun-bg-color: rgba(255, 255, 255, .6);
    --curve-width: 8em;
    --curve-height: 4em;
    /* 太阳 */
    --sun-radius: 1em;
    --sun-color-1: #FFE38F;
    --sun-color-2: #ECB52A;
    --sun-color-3: #FBBA01;
    --sun-color-4: #B38101;
    /* 太阳经过后阴影 */
    --sun-through-color-1: rgba(207, 207, 207, 0.5);
    --sun-through-color-2: rgba(240, 240, 240, 0.5);
    /* 轨迹底部样式 */
    --curve-border-bottom: 1px dashed #707070;
    /* 轨迹样式 */
    --curve-border: 2px solid #707070;

    /* 七天预报 */
    --day-bg-color: rgba(255, 255, 255, .6);
    --day-width: 4em;
    --day-height: 10em;
    /* AQI */
    --AQI-bg-color: rgba(255, 255, 255, .6);
    --AQI-max-width: 20em;
    /* 进度条 */
    --progress-circle-color: #7fecad;

    /* 月亮 */
    --moon-color: #acadad;
    --moon-mountain-color: #747575;

    /* 降雨图 */
    --rain-bg-color: rgba(255, 255, 255, .6);

    /* 灾害预警 */
    --disaster-bg-color: white;
    --disaster-z-index: 9;

    --svg-path-color: rgba(255, 180, 81, 0.6);
}

#weather {
    margin-top: var(--nav-height);
    padding: .5em;
    width: 100%;
    height: calc(var(--weather-height) - var(--nav-height));
}

.grid {
    display: grid;
    grid-gap: .5em;
}

#weather * {
    color: var(--weather-font-color);
}

/* 天气详情块 */
#weather-detail {
    min-width: var(--weather-width);
    position: relative;
    padding: .5em;
    border-radius: var(--bg-radius);
    background-color: var(--weather-detail-bg);
}

#loc {
    position: absolute;
    top: 0;
    left: 0;
    margin: .5em;
    cursor: pointer;
}

#weather-detail>svg,
#myDate,
#temp,
#weather-text,
#other {
    margin: .25em;
}

#temp {
    font-family: 'ClearGothic';
    font-size: var(--temp-font-size);
}

/* 表格内容居中 */
#other td {
    text-align: center;
}

/* 日出日落块 */
#sun {
    position: relative;
    grid-row-start: 4;
    padding: 1em;
    background-color: var(--sun-bg-color);
    border-radius: var(--bg-radius);
    cursor: pointer;
}

#sun svg {
    margin: 0;
}

#sunandcurve {
    width: var(--curve-width);
    height: var(--curve-height);
    position: relative;
}

#sun-curve {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: var(--curve-width);
    height: var(--curve-height);
    border-radius: var(--curve-height) var(--curve-height) 0 0;
    border-bottom: var(--curve-border-bottom);
    border-top: var(--curve-border);
    border-right: var(--curve-border);
    border-left: var(--curve-border);
    overflow: hidden;
}

#moon-curve {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: calc(var(--curve-width) / 5 * 3);
    height: calc(var(--curve-height) / 5 * 3);
    border-radius: calc(var(--curve-height) / 5 * 3) calc(var(--curve-height) / 5 * 3) 0 0;
    border-top: var(--curve-border);
    border-right: var(--curve-border);
    border-left: var(--curve-border);
    overflow: hidden;
}

#sun-through {
    height: 100%;
    width: 0;
    transition: none;
    background: linear-gradient(to bottom, var(--sun-through-color-1), var(--sun-through-color-2));
}

#sun-item {
    /* 去掉小太阳的过渡
    防止使用 requestAnimationFrame 时出现跳动
    (过渡时间慢于 AnimationFrame 频率时出现)
    */
    transition: none;
    position: absolute;
    bottom: 0;
    border-radius: 50%;
    width: var(--sun-radius);
    height: var(--sun-radius);
    background: linear-gradient(45deg, var(--sun-color-1), var(--sun-color-2));
    transform-style: preserve-3d;
    animation: rotate 2s linear infinite;
}

#moon {
    transition: none;
    bottom: 0;
    left: 20%;
    position: absolute;
    width: var(--sun-radius);
    height: var(--sun-radius);
    border-radius: 50%;
    animation: rotate 2s linear infinite;
    background-color: var(--moon-color);
}

#moon::after {
    position: absolute;
    content: "";
    border-radius: 50%;
    top: 50%;
    left: 20%;
    width: 4px;
    height: 4px;
    background-color: var(--moon-mountain-color);
}

#moon::before {
    position: absolute;
    content: "";
    border-radius: 50%;
    top: 40%;
    left: 10%;
    width: 2px;
    height: 2px;
    background-color: var(--moon-mountain-color);
}

@keyframes rotate {
    0% {
        transform: translate(-50%, 50%) rotate(0);
    }

    100% {
        transform: translate(-50%, 50%) rotate(-360deg);
    }
}

#sun-item::before {
    content: "";
    display: block;
    transform: translateZ(-1px);
    width: var(--sun-radius);
    height: var(--sun-radius);
    background: linear-gradient(45deg, var(--sun-color-3), var(--sun-color-4));
}

#sun-item::after {
    position: absolute;
    top: 0;
    content: "";
    display: block;
    transform: translateZ(-2px) rotate(45deg);
    width: var(--sun-radius);
    height: var(--sun-radius);
    background: linear-gradient(45deg, var(--sun-color-3), var(--sun-color-4));
}

/* 七天天气预报 */
#sevenday {
    font-size: .9em;
    overflow-x: scroll;
    border-radius: .5em;
    background-color: var(--day-bg-color);
}

#sevenday::-webkit-scrollbar {
    display: none;
}

.day {
    min-width: var(--day-width);
    flex-grow: 1;
    flex-shrink: 0;
    padding: .5em 0;
    cursor: pointer;
    height: 100%;
}

.day svg {
    margin: 0;
}

.day>div {
    margin: .3em 0;
}

.temp {
    height: 50%;
    max-width: var(--day-width);
}

.line {
    stroke: #b4b4b4;
}

.temp-text {
    font-size: .5em;
}

.line-temp {
    stroke: #6babff;
}

#AQI {
    padding: 0 1em;
    border-radius: .5em;
    background-color: var(--AQI-bg-color);
}

#AQI-progress {
    width: 8em;
    height: 8em;
    flex-shrink: 0;
}

#AQI-progress>svg {
    margin: 0;
    width: 100%;
    height: 100%;
}


#underCircle {
    transition: none;
}

#progressCircle {
    stroke: var(--progress-circle-color);
    transition: stroke .5s ease;
}

#pollution {
    margin: 0 0 0 1em;
    padding: .5em 0;
}

#pollution div {
    font-size: .9em;
}

#pollution svg {
    height: 9px;
    width: 100%;
    margin: 0;
}

.small {
    font-size: .3em;
    font-family: 'ClearGothic';
}

#indices {
    background-color: var(--rain-bg-color);
    border-radius: .5em;
}

#unknown {
    background-color: var(--rain-bg-color);
    border-radius: .5em;
}

#disaster {
    position: fixed;
    margin: .5em;
    padding: .5em;
    top: calc(var(--nav-height) + .5em);
    right: 0;
    transform: translateX(110%);
    border-radius: .2em;
    background-color: var(--disaster-bg-color);
    box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
    max-width: 30em;
    z-index: var(--disaster-z-index);
}

#disaster-icon>svg {
    margin-right: .5em;
}

#disaster-icon>div {
    font-size: 1.5em;
}

#disaster-info {
    margin-left: 2.5em;
}

@media (min-width: 600px) {    
    .grid {
        grid-template-columns: minmax(var(--weather-width), 1fr) 1fr 1fr 1fr 1fr 1fr;
        grid-template-rows: repeat(4, 1fr);
    }

    #weather-detail {
        grid-row: 1 / span 3;
    }

    #sun {
        grid-row-start: 4;
    }

    #sevenday {
        grid-row: 1/ span 2;
        grid-column: 2 / span 3;
    }

    #AQI {
        grid-column: 2 / span 2;
        grid-row: 3 / span 2;
    }
    
    #rain {
        grid-column: 5 / span 2;
        grid-row: 1 / span 2;
    }
    
    #indices {
        grid-column: 6;
        grid-row: 3 / span 2;
    }
    
    #unknown {
        grid-column: 4 / span 2;
        grid-row: 3 / span 2;
    }
}

@media (max-width: 600px) {
    .grid {
        grid-template-columns: repeat(auto-fill, 100%);
    }

    #rain {
        min-height: 20em;
    }

    #sevenday {
        min-height: 20em;
    }
}

.grid-rain {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(4, 1fr);
    grid-gap: .5em;
}

#rain { 
    position:relative;
    perspective: 1500px;
    background-color: var(--rain-bg-color);
    border-radius: .5em;
}

#rain-detail {
    height: 100%;
    width: 100%;
}

#rain>div {
    padding: 1em;
    position:absolute;
    left:0;
    top:0;
    backface-visibility: hidden;
    border-radius: .5em;
    cursor: pointer;
}

#raining {
    height: 100%;
    width: 100%;
    transform: rotateY(180deg);
}

#raining>svg{
    margin: .3em 0;
    flex: 1;
}

#raining>svg rect,
#raining>svg line {
    stroke-dasharray: 5;
    fill: none;
    stroke-linecap: round;
}

#raining>svg text {
    font-size: .7em;
}


#raining-path {
    stroke: none;
    fill: rgba(245, 201, 136,.5);
    stroke-width: 2;
    stroke-linecap: round;
}

#raining>svg line[id="ruler"] {
    stroke: #60cdff;
}

#raining>svg rect,
#raining>svg line {
    stroke: #dfdfdf;
}

#raining-info {
    border-radius: .2em;
    background-color: #ececec;
    padding: .2em;
}

#precipitation{
    grid-column: span 2;
    grid-row: span 2;
}

.precipitation-font-size>div {
    font-size: 3em;
}